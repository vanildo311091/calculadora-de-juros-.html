<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Futuro Financeiro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primaria: #00ffa3;
            --fundo: #0f172a;
            --card: #1e293b;
            --texto-claro: #f8fafc;
            --texto-escuro: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--fundo); color: var(--texto-claro); padding: 20px; }

        .app-container { max-width: 1000px; margin: 40px auto; }
        
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { font-size: 2rem; margin-bottom: 10px; }
        .header p { color: var(--texto-escuro); }

        /* Painel Principal */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
        }

        /* Coluna de Entradas */
        .controles {
            background: var(--card);
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }

        .input-bloco { margin-bottom: 20px; }
        label { display: block; font-size: 0.85rem; margin-bottom: 8px; color: var(--primaria); font-weight: bold; }
        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #334155;
            background: #0f172a;
            color: white;
            font-size: 1rem;
        }

        button {
            width: 100%;
            padding: 15px;
            background: var(--primaria);
            border: none;
            border-radius: 8px;
            font-weight: 800;
            cursor: pointer;
            transition: 0.2s;
        }
        button:hover { transform: scale(1.02); filter: brightness(1.1); }

        /* Coluna de Resultados */
        .resultados { display: flex; flex-direction: column; gap: 20px; }
        
        .cards-resumo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .card {
            background: var(--card);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primaria);
        }
        .card span { display: block; font-size: 0.8rem; color: var(--texto-escuro); margin-bottom: 5px; }
        .card strong { font-size: 1.2rem; }

        .grafico-area {
            background: var(--card);
            padding: 20px;
            border-radius: 16px;
            height: 350px;
        }

        @media (max-width: 768px) {
            .dashboard { grid-template-columns: 1fr; }
            .cards-resumo { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1>Simulador de Crescimento ðŸš€</h1>
        <p>Veja quanto seu dinheiro pode render ao longo do tempo.</p>
    </div>

    <div class="dashboard">
        <div class="controles">
            <div class="input-bloco">
                <label>Quanto vocÃª tem hoje?</label>
                <input type="number" id="inicial" value="5000">
            </div>
            <div class="input-bloco">
                <label>Quanto vai guardar por mÃªs?</label>
                <input type="number" id="mensal" value="500">
            </div>
            <div class="input-bloco">
                <label>Taxa de juros (Anual %)</label>
                <input type="number" id="taxa" value="12" step="0.5">
            </div>
            <div class="input-bloco">
                <label>Por quantos anos?</label>
                <input type="number" id="anos" value="10">
            </div>
            <button onclick="calcular()">Simular Agora</button>
        </div>

        <div class="resultados">
            <div class="cards-resumo">
                <div class="card">
                    <span>Resultado Final</span>
                    <strong id="val-total">R$ 0,00</strong>
                </div>
                <div class="card" style="border-color: #3b82f6;">
                    <span>Dinheiro que rendeu</span>
                    <strong id="val-juros" style="color: var(--primaria)">R$ 0,00</strong>
                </div>
            </div>
            
            <div class="grafico-area">
                <canvas id="meuGrafico"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
let grafico;

function formatarMoeda(valor) {
    return valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
}

function calcular() {
    const inicial = parseFloat(document.getElementById('inicial').value) || 0;
    const mensal = parseFloat(document.getElementById('mensal').value) || 0;
    const anos = parseInt(document.getElementById('anos').value) || 0;
    const taxaAnual = parseFloat(document.getElementById('taxa').value) / 100;

    // Converte taxa anual para mensal corretamente (Juros Compostos)
    const taxaMensal = Math.pow(1 + taxaAnual, 1/12) - 1;
    const totalMeses = anos * 12;

    let saldoTotal = inicial;
    let totalInvestido = inicial;
    
    const historicoMeses = [];
    const dadosSaldo = [];
    const dadosInvestido = [];

    for (let i = 0; i <= totalMeses; i++) {
        historicoMeses.push(`MÃªs ${i}`);
        dadosSaldo.push(saldoTotal.toFixed(2));
        dadosInvestido.push(totalInvested.toFixed(2));

        // Aplica o rendimento e depois o aporte
        let jurosNoMes = saldoTotal * taxaMensal;
        saldoTotal += jurosNoMes + mensal;
        totalInvested += mensal;
    }

    // Atualiza os nÃºmeros na tela
    document.getElementById('val-total').innerText = formatarMoeda(saldoTotal - mensal); // Ajuste do Ãºltimo aporte
    document.getElementById('val-juros').innerText = formatarMoeda(saldoTotal - totalInvested);

    desenharGrafico(historicoMeses, dadosSaldo, dadosInvestido);
}

function desenharGrafico(labels, saldo, investido) {
    const ctx = document.getElementById('meuGrafico').getContext('2d');
    
    if (grafico) grafico.destroy();

    grafico = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'Seu PatrimÃ´nio',
                data: saldo,
                borderColor: '#00ffa3',
                backgroundColor: 'rgba(0, 255, 163, 0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: 0
            }, {
                label: 'Seu EsforÃ§o (Aportes)',
                data: investido,
                borderColor: '#3b82f6',
                borderDash: [5, 5],
                fill: false,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { labels: { color: '#f8fafc' } }
            },
            scales: {
                x: { display: false },
                y: { 
                    ticks: { color: '#94a3b8' },
                    grid: { color: '#334155' }
                }
            }
        }
    });
}

// Iniciar com um cÃ¡lculo padrÃ£o
calcular();
</script>
</body>
</html>
